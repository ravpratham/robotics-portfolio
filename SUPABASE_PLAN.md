# Supabase Integration Plan

## Information Gathered:
1. **Project Type**: React + TypeScript + Vite + Tailwind CSS
2. **Current Issue**: Content stored only in localStorage, not visible to other users/deployments
3. **Dependencies**: Already includes `@supabase/supabase-js` in package.json
4. **Routing**: React Router v6 for navigation
5. **Data Flow**: useAssignments hook manages all CRUD operations

## Plan:
### Phase 1: Supabase Configuration
1. Create `src/lib/supabase.ts` - Supabase client initialization
2. Create `src/types/supabase.ts` - Database schema types
3. Create `.env.example` - Environment variables template

### Phase 2: Data Layer Updates
4. Update `src/hooks/useAssignments.ts`:
   - Add Supabase fetch on mount
   - Add Supabase sync on changes
   - Keep localStorage as fallback for offline support
   - Maintain existing API for compatibility

### Phase 3: Documentation & Deployment
5. Update `README.md` with Supabase setup instructions
6. Add environment variable documentation for Vercel

## Files to Create:
1. `src/lib/supabase.ts` - Supabase client
2. `src/types/supabase.ts` - Database types
3. `.env.example` - Environment template

## Files to Modify:
1. `src/hooks/useAssignments.ts` - Add Supabase integration
2. `README.md` - Add setup instructions

## Database Schema (Supabase):
```sql
-- Create assignments table
create table assignments (
  id bigint generated by default as identity primary key,
  created_at timestamp with time zone default timezone('utc'::text, now()) not null,
  title text not null,
  description text,
  section text not null,
  content text,
  youtube_url text
);

-- Enable Row Level Security (optional)
alter table assignments enable row level security;

-- Create policies for public access
create policy "Enable read access for all users" on assignments
  for select using (true);
  
create policy "Enable insert for authenticated users only" on assignments
  for insert to authenticated with check (true);

create policy "Enable update for authenticated users only" on assignments
  for update to authenticated using (true);

create policy "Enable delete for authenticated users only" on assignments
  for delete to authenticated using (true);
```

## Followup Steps:
1. Create Supabase project at https://supabase.com
2. Run the SQL schema in Supabase SQL Editor
3. Copy environment variables to Vercel
4. Deploy and test

